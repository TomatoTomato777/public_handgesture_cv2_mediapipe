'''
function:
this code will use cv2 to open camera,
then convert img to RGB
then use mediapipe to detect hands
after detect will label dots and line in hands
include fps
'''

import cv2
import mediapipe as mp
import time

cap = cv2.VideoCapture(0)

mpHands = mp.solutions.hands
hands = mpHands.Hands()
mpDraw = mp.solutions.drawing_utils

pTime = 0
cTime = 0

while True:
    success, img = cap.read()
    imgRGB = cv2.cvtColor(img,cv2.COLOR_BGR2RGB) # convert img to RGB cuz mediapipe use RGB to detect
    results = hands.process(imgRGB)

    if results.multi_hand_landmarks:                                         # if results.multi_hand_landmarks == True == if can detect hand
        for handLms in results.multi_hand_landmarks:                         # loop no.of detected hands
            mpDraw.draw_landmarks(img,handLms,mpHands.HAND_CONNECTIONS)      # img == draw landmarks in the original img, not imgRGB
                                                                             # handLms == to label dots
                                                                             # mpHands.HAND_CONNECTIONS == to draw line

    cTime = time.time()
    fps = 1/(cTime - pTime)
    pTime = cTime

    cv2.putText(img, str(int(fps)), (10, 70), cv2.FONT_HERSHEY_PLAIN, 3, (255, 0,255), 3)
    '''
    1. img = where to put text
    2. str(int(fps)) = the message that want to put
    3. (10, 70) = location of text in the frame
    4. cv2.FONT_HERSHEY_PLAIN = font type
    5. 3 = font size
    6. (255, 0,255) = font color
    7. 3 = font thickness
    '''
    
    

    cv2.imshow("Video Window",img)
    cv2.waitKey(1)